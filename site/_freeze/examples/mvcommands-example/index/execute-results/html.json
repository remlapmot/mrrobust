{
  "hash": "74a5d829690572d8521550816fcdf8d7",
  "result": {
    "markdown": "---\n---\n\n\n\n\n\n\n\n\n# Example demonstrating MVMR commands\n\nRead in the @do-natgen-2013 example dataset.\n\n::: {.cell layout-align=\"center\" collectcode='true'}\n\n```{.stata .cell-code}\nuse https://raw.github.com/remlapmot/mrrobust/master/dodata, clear\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n\n```\n:::\n:::\n\n\nSelect observations (p-value with LDL-C < 10<sup>-8</sup>)\n\n::: {.cell layout-align=\"center\" collectcode='true'}\n\n```{.stata .cell-code}\ngen byte sel1 = (ldlcp2 < 1e-8)\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n\n```\n:::\n:::\n\n\n## MV-IVW\n\nFit the multivariable inverse-variance weighted (MV-IVW a.k.a. multivariable \nMendelian randomization, MVMR) estimator with phenotypes LDL-c and HDL-c [@burgess-aje-2015].\n\n::: {.cell layout-align=\"center\"}\n\n```{.stata .cell-code}\nmrmvivw chdbeta ldlcbeta hdlcbeta [aw=1/(chdse^2)] if sel1==1\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n                                                      Number of genotypes = 73\n                                                      Number of phenotypes = 2\n                                                Standard errors: Random effect\n                                              Residual standard error =  1.514\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nchdbeta      |\n    ldlcbeta |   .4670719   .0581901     8.03   0.000     .3530214    .5811224\n    hdlcbeta |  -.2930048   .1211822    -2.42   0.016    -.5305175   -.0554921\n------------------------------------------------------------------------------\n```\n:::\n:::\n\n\nAdditionally include a third phenotype -- triglycerides.\n\n::: {.cell layout-align=\"center\"}\n\n```{.stata .cell-code}\nmrmvivw chdbeta ldlcbeta hdlcbeta tgbeta [aw=1/(chdse^2)] if sel1==1\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n                                                      Number of genotypes = 73\n                                                      Number of phenotypes = 3\n                                                Standard errors: Random effect\n                                              Residual standard error =  1.490\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nchdbeta      |\n    ldlcbeta |     .42862   .0609661     7.03   0.000     .3091286    .5481113\n    hdlcbeta |  -.1941989   .1308289    -1.48   0.138    -.4506189    .0622211\n      tgbeta |   .2260456   .1232828     1.83   0.067    -.0155842    .4676755\n------------------------------------------------------------------------------\n```\n:::\n:::\n\n\nReport the Q<sub>A</sub> statistic for instrument validity and the conditional \nF-statistics for instrument strength for each phenotype [@sanderson-ije-2019; \n@sanderson-statsmed-2021].\n\n::: {.cell layout-align=\"center\"}\n\n```{.stata .cell-code}\nmrmvivw chdbeta ldlcbeta hdlcbeta tgbeta [aw=1/(chdse^2)] if sel1==1, gxse(ldlcse hdlcse tgse)\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n                                                      Number of genotypes = 73\n                                                      Number of phenotypes = 3\n                                                Standard errors: Random effect\n                                              Residual standard error =  1.490\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nchdbeta      |\n    ldlcbeta |     .42862   .0609661     7.03   0.000     .3091286    .5481113\n    hdlcbeta |  -.1941989   .1308289    -1.48   0.138    -.4506189    .0622211\n      tgbeta |   .2260456   .1232828     1.83   0.067    -.0155842    .4676755\n------------------------------------------------------------------------------\n Q_A statistic for instrument validity; chi2(70) = 152.88 (p =  0.0000)\n Conditional F-statistics for instrument strength:\n F_x1 = 130.31   (ldlcbeta)\n F_x2 = 36.29    (hdlcbeta)\n F_x3 = 40.44    (tgbeta)\n```\n:::\n:::\n\n\n## MVMR-Egger\n\nFit MVMR-Egger regression [@rees-statsmed-2017], by default orienting the model \nto the first phenotype in the main varlist.\n\n::: {.cell layout-align=\"center\"}\n\n```{.stata .cell-code}\nmrmvegger chdbeta ldlcbeta hdlcbeta tgbeta [aw=1/(chdse^2)] if sel1==1\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n                                       MVMR-Egger model oriented wrt: ldlcbeta\n                                                      Number of genotypes = 73\n                                                      Number of phenotypes = 3\n                                              Residual standard error =  1.469\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nchdbeta      |\n    ldlcbeta |   .5672993   .1002611     5.66   0.000      .370791    .7638075\n    hdlcbeta |  -.1364113   .1332727    -1.02   0.306    -.3976209    .1247983\n      tgbeta |   .2739803   .1246927     2.20   0.028     .0295871    .5183735\n       _cons |  -.0093655   .0054187    -1.73   0.084     -.019986     .001255\n------------------------------------------------------------------------------\n```\n:::\n:::\n\n\nWe can also orient the model with respect to HDL-C instead of LDL-C.\n\n::: {.cell layout-align=\"center\"}\n\n```{.stata .cell-code}\nmrmvegger chdbeta ldlcbeta hdlcbeta tgbeta [aw=1/(chdse^2)] if sel1==1, orient(2)\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n                                       MVMR-Egger model oriented wrt: hdlcbeta\n                                                      Number of genotypes = 73\n                                                      Number of phenotypes = 3\n                                              Residual standard error =  1.501\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nchdbeta      |\n    ldlcbeta |   .4286398   .0614056     6.98   0.000      .308287    .5489926\n    hdlcbeta |  -.1989637   .1541909    -1.29   0.197    -.5011723    .1032449\n      tgbeta |   .2256794   .1243221     1.82   0.069    -.0179875    .4693463\n       _cons |   .0002155   .0036218     0.06   0.953     -.006883    .0073141\n------------------------------------------------------------------------------\n```\n:::\n:::\n\n\nOr we can orient the model with respect to triglycerides instead of LDL-C.\n\n::: {.cell layout-align=\"center\"}\n\n```{.stata .cell-code}\nmrmvegger chdbeta ldlcbeta hdlcbeta tgbeta [aw=1/(chdse^2)] if sel1==1, orient(3)\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n                                         MVMR-Egger model oriented wrt: tgbeta\n                                                      Number of genotypes = 73\n                                                      Number of phenotypes = 3\n                                              Residual standard error =  1.499\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nchdbeta      |\n    ldlcbeta |   .4203073   .0660026     6.37   0.000     .2909447      .54967\n    hdlcbeta |  -.1903089   .1321536    -1.44   0.150    -.4493252    .0687075\n      tgbeta |   .2065651   .1365427     1.51   0.130    -.0610537     .474184\n       _cons |   .0013499    .003951     0.34   0.733    -.0063939    .0090936\n------------------------------------------------------------------------------\n```\n:::\n:::\n\n\n## References\n\n::: {#refs}\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}